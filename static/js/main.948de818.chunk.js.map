{"version":3,"sources":["contexts/GameReducer.js","contexts/GameContext.js","components/Square.js","components/Player.js","components/Reset.js","components/Winner.js","components/History.js","components/Board.js","utils/calculateWinner.js","index.js","pages/Home.js"],"names":["INITIAL_STATE","squares","Array","fill","isXNext","whoIsWinner","history","reducer","state","action","type","newHistory","newState","payload","index","splice","length","GameContext","createContext","GameContextProvider","children","useReducer","GameReducer","dispatch","Provider","value","Square","useContext","onClick","newSquares","Player","Board","className","Winner","map","data","key","uuid","handleClick","useEffect","winner","lines","i","a","b","c","calculateWinner","defaultProps","ReactDOM","render","document","title","getElementById"],"mappings":"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","file":"static/js/main.948de818.chunk.js","sourcesContent":["export const INITIAL_STATE = {\n  squares: Array(9).fill(null),\n  isXNext: true,\n  whoIsWinner: '',\n  history: [],\n};\n\nexport default function reducer(state, action) {\n  switch (action.type) {\n    case 'UPDATE_SQUARES': {\n      const { squares, history, isXNext, whoIsWinner } = state;\n\n      const newHistory = [\n        ...history,\n        {\n          squares,\n          isXNext,\n          whoIsWinner,\n        },\n      ];\n\n      const newState = { ...state };\n\n      newState.squares = action.payload;\n      newState.isXNext = !isXNext;\n      newState.whoIsWinner = whoIsWinner;\n      newState.history = newHistory;\n\n      return newState;\n    }\n\n    case 'UPDATE_WINNER': {\n      return { ...state, whoIsWinner: action.payload };\n    }\n\n    case 'UPDATE_HISTORY': {\n      const [history, index] = action.payload;\n      const { squares, whoIsWinner, isXNext } = history[index];\n\n      const newHistory = [...history];\n\n      newHistory.splice(index, history.length);\n\n      const newState = {\n        ...state,\n        squares,\n        whoIsWinner,\n        isXNext,\n        history: newHistory,\n      };\n\n      return newState;\n    }\n\n    case 'RESET': {\n      return INITIAL_STATE;\n    }\n\n    default:\n      return state;\n  }\n}\n","import React, { createContext, useReducer } from 'react';\nimport t from 'prop-types';\nimport GameReducer, { INITIAL_STATE } from './GameReducer';\n\nexport const GameContext = createContext();\n\nexport default function GameContextProvider({ children }) {\n  const [state, dispatch] = useReducer(GameReducer, INITIAL_STATE);\n\n  return (\n    <GameContext.Provider value={{ state, dispatch }}>\n      {children}\n    </GameContext.Provider>\n  );\n}\n\nGameContextProvider.propTypes = {\n  children: t.node.isRequired,\n};\n","import React, { useContext } from 'react';\nimport t from 'prop-types';\n\nimport { GameContext } from '../contexts/GameContext';\n\nexport default function Square({ value, index }) {\n  const {\n    state: { squares, isXNext, whoIsWinner },\n    dispatch,\n  } = useContext(GameContext);\n\n  function handleClick() {\n    if (squares[index]) return;\n    if (whoIsWinner) return;\n\n    const newSquares = [...squares];\n    newSquares[index] = isXNext ? 'X' : 'O';\n\n    dispatch({ type: 'UPDATE_SQUARES', payload: newSquares });\n  }\n\n  return (\n    <button type=\"button\" onClick={handleClick}>\n      {value}\n    </button>\n  );\n}\n\nSquare.defaultProps = {\n  value: null,\n};\n\nSquare.propTypes = {\n  value: t.string,\n  index: t.number.isRequired,\n};\n","import React, { useContext } from 'react';\n\nimport { GameContext } from '../contexts/GameContext';\n\nexport default function Player() {\n  const {\n    state: { isXNext },\n  } = useContext(GameContext);\n\n  return <h1>Player: {isXNext ? 'X' : 'O'}</h1>;\n}\n","import React, { useContext } from 'react';\n\nimport { GameContext } from '../contexts/GameContext';\n\nexport default function Board() {\n  const { dispatch } = useContext(GameContext);\n\n  function handleClick() {\n    dispatch({ type: 'RESET' });\n  }\n\n  return (\n    <p className=\"reset\">\n      <button type=\"button\" onClick={handleClick}>\n        Reset\n      </button>\n    </p>\n  );\n}\n","import React, { useContext } from 'react';\n\nimport { GameContext } from '../contexts/GameContext';\n\nexport default function Winner() {\n  const {\n    state: { whoIsWinner },\n  } = useContext(GameContext);\n\n  if (!whoIsWinner) return <></>;\n  return <p className=\"winner\">{whoIsWinner} ganhou!!!</p>;\n}\n","import React, { useContext } from 'react';\nimport uuid from 'uuid/v4';\n\nimport { GameContext } from '../contexts/GameContext';\n\nexport default function Board() {\n  const {\n    state: { history },\n    dispatch,\n  } = useContext(GameContext);\n\n  function handleClick(index) {\n    dispatch({ type: 'UPDATE_HISTORY', payload: [history, index] });\n  }\n\n  return (\n    <div>\n      {history.map((data, index) => (\n        <div key={uuid()} className=\"history\">\n          <button type=\"button\" onClick={() => handleClick(index)}>\n            Voltar para jogada {index}\n          </button>\n        </div>\n      ))}\n    </div>\n  );\n}\n","import React, { useContext, useEffect } from 'react';\nimport uuid from 'uuid/v4';\n\nimport { GameContext } from '../contexts/GameContext';\nimport calculateWinner from '../utils/calculateWinner';\n\nimport Square from './Square';\nimport Player from './Player';\nimport Reset from './Reset';\nimport Winner from './Winner';\nimport History from './History';\n\nexport default function Board() {\n  const {\n    state: { squares, history },\n    dispatch,\n  } = useContext(GameContext);\n\n  useEffect(() => {\n    const winner = calculateWinner(squares);\n\n    if (winner) {\n      dispatch({ type: 'UPDATE_WINNER', payload: winner });\n    }\n  }, [dispatch, history, squares]);\n\n  return (\n    <div className=\"board-container\">\n      <Player />\n      <Winner />\n      <Reset />\n      <div className=\"board\">\n        {squares.map((value, index) => (\n          <Square value={value} index={index} key={uuid()} />\n        ))}\n      </div>\n\n      <History />\n    </div>\n  );\n}\n","export default function calculateWinner(squares) {\n  const lines = [\n    [0, 1, 2],\n    [3, 4, 5],\n    [6, 7, 8],\n    [0, 3, 6],\n    [1, 4, 7],\n    [2, 5, 8],\n    [0, 4, 8],\n    [2, 4, 6],\n  ];\n  for (let i = 0; i < lines.length; i += 1) {\n    const [a, b, c] = lines[i];\n    if (squares[a] && squares[a] === squares[b] && squares[a] === squares[c]) {\n      return squares[a];\n    }\n  }\n  return null;\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\n\nimport Home from './pages/Home';\n\nReactDOM.render(<Home />, document.getElementById('root'));\n","import React, { useEffect } from 'react';\nimport './Home.css';\n\nimport GameContextProvider from '../contexts/GameContext';\nimport Board from '../components/Board';\n\nexport default function Home() {\n  useEffect(() => {\n    document.title = 'Jogo da velha com React';\n  }, []);\n\n  return (\n    <GameContextProvider>\n      <Board />\n    </GameContextProvider>\n  );\n}\n"],"sourceRoot":""}